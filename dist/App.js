!function(t){var i={};function n(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=i,n.d=function(t,i,e){n.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,i){if(1&i&&(t=n(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var s in t)n.d(e,s,function(i){return t[i]}.bind(null,s));return e},n.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(i,"a",i),i},n.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},n.p="",n(n.s=0)}([function(t,i,n){"use strict";n.r(i);class e{constructor(t,i,n,e){this.title=t,this.releaseDate=i,this.rating=n,this.img=e}}class s extends e{constructor(t,i,n,e,s,a){super(t,i,n,e),this.artists=s,this.nbTracks=a}}class a{constructor(){this.medias=[]}addMedia(t){this.medias.push(t)}removeMedia(t){this.medias=this.medias.filter(function(i){return t!==i})}getNbMedias(){return this.medias.length}filter(t){return this.medias.filter(t)}}class l extends e{constructor(t,i,n,e,s,a,l){super(t,i,n,e),this.studio=s,this.nbPlayers=a,this.plot=l}}class o extends e{constructor(t,i,n,e,s,a,l,o){super(t,i,n,e),this.director=s,this.actors=a,this.duration=l,this.plot=o}}const r=0,d=1,c=2;class u{constructor(){this.collection=new a,this.currentList=this.collection.medias}addMedia(t){this.collection.addMedia(t),this.displayMedia(t)}displayMedia(t){const i=this.createComponent(t);this.listMedias.append(i)}displayMedias(){const t=this;this.listMedias.empty(),this.currentList.forEach(function(i){t.displayMedia(i)})}resetList(){this.currentList=this.collection.medias,this.displayMedias()}init(){const t=this;this.btnAddMedia=$("#btnAddMedia"),this.listMedias=$("#medias"),this.btnAllMedias=$("#btnAllMedias"),this.btnAlbums=$("#btnAlbums"),this.btnGames=$("#btnGames"),this.btnMovies=$("#btnMovies"),this.currentBtn=this.btnAllMedias,this.btnAddMedia.on("click",function(){t.displayModalAddMedia()}),this.btnAllMedias.on("click",function(){t.setCurrentActiveBtn(t.btnAllMedias),t.resetList()});const i=function(t){return t instanceof s};this.btnAlbums.on("click",function(){t.setCurrentActiveBtn(t.btnAlbums),t.currentList=t.collection.filter(i),t.displayMedias()});const n=function(t){return t instanceof l};this.btnGames.on("click",function(){t.setCurrentActiveBtn(t.btnGames),t.currentList=t.collection.filter(n),t.displayMedias()});const e=function(t){return t instanceof o};this.btnMovies.on("click",function(){t.setCurrentActiveBtn(t.btnMovies),t.currentList=t.collection.filter(e),t.displayMedias()}),this.dropdown=$(".ui.dropdown"),this.dropdown.dropdown({onChange:function(i,n,e){t.updateModal(parseInt(i))}}),this.initModal(),this.displayMedias()}setCurrentActiveBtn(t){this.currentBtn.removeClass("active"),this.currentBtn=t,this.currentBtn.addClass("active")}createComponent(t){const i=this;let n;t instanceof s?n="music":t instanceof l?n="gamepad":t instanceof o&&(n="film");let e=t.plot;t instanceof s&&(e=`By <b>${t.artists}</b>, contains ${t.nbTracks} tracks.`);let a=`<div class="card">\n                <div class="image">\n                <img src="${t.img}">\n                </div>\n                <div class="content">\n                <div class="header">\n                    <i class="${n} icon"></i>\n                    ${t.title}\n                </div>\n                <div class="meta">\n                    <span class="date">Released the ${t.releaseDate.toLocaleString()}</span>\n                </div>\n                <div class="description">\n                    ${e}\n                </div>\n                </div>\n                <div class="extra">\n                    Rating:\n                    <div class="ui star rating" data-rating="${t.rating}" data-max-rating="5"></div>\n                </div>\n                <div class="ui two bottom attached buttons">\n                    <div class="ui button">\n                        <i class="edit icon"></i>\n                        Edit\n                    </div>\n                    <div class="ui primary button">\n                        <i class="trash icon"></i>\n                        Remove\n                    </div>\n                </div>\n            </div>`;const r=$(a);return $(r).find(".ui.rating").rating("disable"),$(r).find("div.ui.primary.button").on("click",function(){i.collection.removeMedia(t),r.remove()}),r}initModal(){const t=this;this.modal=$(".ui.modal").modal({onApprove:function(){const i=t.readForm();t.addMedia(i)}}),this.modal.find(".ui.rating").rating()}readForm(){const t=parseInt(this.modal.find("input[name=type]").val()),i=this.modal.find("input[name=title]").val(),n=new Date(this.modal.find("input[name=releaseDate]").val()),e=parseInt(this.modal.find("div[data-rating]").rating("get rating")),a=this.modal.find("input[name=img]").val();if(t===r){const t=this.modal.find("input[name=artist]").val(),l=this.modal.find("input[name=nbTracks]").val();return new s(i,n,e,a,t,l)}if(t===d){const t=this.modal.find("input[name=studio]").val(),s=this.modal.find("input[name=nbPlayers]").val(),o=this.modal.find("input[name=plot]").val();return new l(i,n,e,a,t,s,o)}if(t===c){const t=this.modal.find("input[name=director]").val(),s=this.modal.find("input[name=actors]").val(),l=this.modal.find("input[name=duration]").val(),r=this.modal.find("input[name=plot]").val();return new o(i,n,e,a,t,s,l,r)}}updateModal(t){let i;t===r?i='<div class="inline field">\n                    <label>Artist</label>\n                    <input type="text" name="artist" placeholder="Artist">\n                </div>\n                <div class="inline field">\n                    <label>Number of tracks</label>\n                    <input type="text" name="nbTracks" placeholder="Number of tracks">\n                </div>':t===d?i='<div class="inline field">\n                    <label>Studio</label>\n                    <input type="text" name="studio" placeholder="Studio">\n                </div>\n                <div class="inline field">\n                    <label>Number of players</label>\n                    <input type="text" name="nbPlayers" placeholder="Number of players">\n                </div>\n                <div class="inline field">\n                    <label>Plot</label>\n                    <input type="text" name="plot" placeholder="Plot">\n                </div>':t===c&&(i='<div class="inline field">\n                    <label>Director</label>\n                    <input type="text" name="director" placeholder="Director">\n                </div>\n                <div class="inline field">\n                    <label>Actors</label>\n                    <input type="text" name="actors" placeholder="Actor">\n                </div>\n                <div class="inline field">\n                    <label>Duration</label>\n                    <input type="text" name="duration" placeholder="Duration">\n                </div>\n                <div class="inline field">\n                    <label>Plot</label>\n                    <input type="text" name="plot" placeholder="Plot">\n                </div>');const n=$(i);this.modal.find("#specificFields").empty().append(n)}displayModalAddMedia(){this.modal.modal("show")}}$(document).ready(function(){const t=new u;t.init(),t.addMedia(function(){const t=new Date(2016,3,1);return new s("Full Circle",t,5,"img/albums/full-circle.jpg","HAELOS",11)}()),t.addMedia(function(){const t=new Date(2017,2,24);return new l("Hollow Knight",t,5,"img/games/hollow-knight.jpg","Team Cherry",1,"The game tells the story of a knight on a quest to uncover the secrets of the long-abandoned insect kingdom of Hallownest, whose haunting depths draw in the adventurous and brave with promises of treasures and answers to ancient mysteries.")}()),t.addMedia(function(){const t=new Date(2010,8,13);return new o("Scott Pilgrim vs. the World",t,5,"img/movies/scott-pilgrim.jpg","Edgar Wright","Michael Cera, Mary Elizabeth Winstead",112,"Scott Pilgrim must defeat his new girlfriend's seven evil exes in order to win her heart.")}())})}]);